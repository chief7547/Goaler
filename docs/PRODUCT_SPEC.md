# Goaler Product Specification (Companion to CLARIFIERS)

아래 표는 `CLARIFIERS.md`에서 던지는 질문에 대해 현재까지 확정된 답변을 정리한 것입니다. 미작성 항목은 `TBD`로 표시해 추후 인터뷰에서 채워 갈 예정입니다.

| 구분 | 질문 (CLARIFIERS) | 현재 답변 / 결정 사항 |
| --- | --- | --- |
| 목표 개요 | Q1. 목표 한 문장 | 장기·비전형 목표를 포기하지 않도록 돕는 “현실 세계 게임 코치”: 예) 1년 뒤 마라톤 완주, 1년 안에 사이드 프로젝트로 첫 매출 100만 원. 입력 폼에서는 "구체적이고 직관적인 목표 설명"을 요구하고, 애매한 이름(예: “아자아자!”)이 들어오면 LLM이 재확인 질문을 던지도록 한다. |
|  | Q2. 단발 vs 반복 | 두 유형 모두 지원. 목표 등록 시 `goal_type`으로 지정 (단발형 ONE_TIME / 습관형 HABIT). |
|  | Q3. 기한 | 목표마다 기한 또는 기간을 필수로 받음. 장기 목표의 경우 연도 단위 가능. |
| 측정 지표 | Q4. 현재 상태 | 기본 목표 입력 폼에서 간단한 시작점(예: “현재 주당 1회 운동”)만 받되, 입력이 부담되면 건너뛰고 챗봇이 대화로 보완. `initial_value`는 선택 항목. |
|  | Q5. 측정 방식 | MVP에서는 “퀘스트 완료”를 진행률의 기본 단위로 사용한다. 사용자는 하루/주간 퀘스트를 완료 버튼으로 처리하고, 앱은 완료 히스토리를 기반으로 진행률을 계산한다. 숫자형 지표는 선택 기능로 남겨 두고, 필요한 경우에만 “직접 정의하기” 흐름을 통해 설정한다. |
|  | Q6. 중간 단계 | 장기 목표를 주간/월간 퀘스트로 자동 제안한다. 1차 카테고리(운동·건강, 비즈니스·수익, 학습·자격, 생활 습관·웰빙, 창작·프로젝트, 재무·투자)별 대표 퀘스트 예시는 `CONFIG.yaml.templates.quest_categories`에서 관리하며, 사용자 취향이 맞지 않으면 챗봇과 함께 새 퀘스트를 정의한다. |
|  | Q6. 중간 단계 | 보스전(핵심 현실 과업) 리스트를 3~5개 생성하고, 각 보스전을 달성하기 위한 주간/일일 준비 단계를 자동 생성한다. 보스전에는 “왜 중요한가 / 성공 기준 / 목표 주차”가 포함된다. |
|  | Q6-1. 변주 재료 | 매일 추천 시 최근 달성률, 피드백, 성향(MBTI/도전 성향), 감정 메모, 변주 태그, 다음 예정 보스전을 조합해 “ 반복은 덜 느끼되 보스전을 향해 준비되는” 미션을 LLM이 생성한다. 변주 이유는 카드에 짧게 표기해 사용자가 이해하도록 돕는다. |
| 동기/보상 | Q7. 동기 | 사용자 입력값을 `goals.motivation`에 저장. 장기 목표 달성 의지(건강, 자유, 자기 성장 등) 강조. |
|  | Q8. 보상 방식 | MVP: 퀘스트 완료 시 칭찬/응원 메시지(변동 보상) + 주간 리포트. 확장: 스테이지 기반 레벨/칭호(4단계 챕터 구조), 연속 보상, 성장 스토리. 모든 보상 설계는 SDT(자율성·유능감·관계성)와 목표 경사 가설을 참고해 “스스로 해낸다는 감정”을 유지하도록 한다. |
| 알림 | Q9. 알림 필요 여부 | 기본값 ‘예’. 채널은 Slack(Webhook)으로 시작하며, MVP 알림 메시지는 목표 설명·남은 기간·최근 완료한 퀘스트·다음 추천 행동 4가지를 항상 포함한다. 확장 단계에서는 LLM이 맥락에 따라 "오늘의 퀘스트", 응원 메시지, 동기 문구 등을 선택해 조합할 수 있도록 확장. |
|  | Q10. 장애물 & 모니터링 | 주요 리스크는 Slack 리마인더 실패/중복, 퀘스트 데이터 손실, LLM 과부하 제안. 대응: Slack 응답 코드 모니터링 + 재시도, 자동 백업 + 복원 시나리오, 난이도 가이드라인/과부하 감지 질문. |
| 운영/보안 | Q11. 권한 관리 | MVP는 단일 사용자(소유자) 전용으로 로그인/초대 흐름 없이 바로 사용. 향후 다중 사용자 지원 시 DB에 `users`/`conversations` 구조를 활용하고 OAuth(Google/Kakao) 기반 로그인으로 전환. |
|  | Q12. 보안 규칙 | OAuth 토큰 안전 저장, HTTPS, 비밀번호 미저장, 정기 백업. 자세한 운영 가이드 문서화 예정. |
| UX/UI | Q13. 사용자 여정 | 로그인(생략) → 목표 생성(폼 + 챗봇 보조) → 퀘스트 보드 확인/완료 → 리마인더 확인 → 회고. 각 단계별 세부 화면은 `docs/UX_FLOW.md` 참조. |
|  | Q14. 필수 화면 요소 | 대시보드 최상단에 “오늘의 추천 행동” 히어로 카드, 아래에는 집중 목표 카드와 오늘/주간 퀘스트 체크리스트를 배치한다. 체크리스트는 목표 경사 가설을 따라 남은 횟수를 눈에 띄게 보여주고, SDT의 자율성·유능감·관계성을 만족시키는 칭찬/추천 메시지를 함께 노출한다. 확장 단계에서는 여러 목표의 퀘스트 리스트를 탭/필터로 전환. |
|  | Q15. 화면/페이지 목록 | 대시보드, 목표 상세, 퀘스트 완료 모달, 알림 설정, 회고/리포트 페이지, 설정(향후 OAuth/다중 목표 대비). |
|  | Q16. 주요 사용자 액션 | 퀘스트 완료/보류/건너뛰기, 변주 선택(2안 중 선택), 목표 편집, 알림 시간 조정, 회고에서 다음 주 퀘스트 확정. 숫자형 진행률 입력은 선택 기능으로 남겨둠. |
|  | Q16-1. 변주 선택 경험 | 변주 모달에서 난이도 배지·예상 시간·변주 이유를 비교하고, 전리품 칩(성과/깨달음/느낌) 중 하나를 고른 뒤 한 줄만 입력한다. 에너지 버튼(보스전 준비됨/페이스 유지/물약 필요)도 함께 누르면 `quest_logs.loot_type`, `mood_note`, `energy_status`에 기록돼 다음 추천에 반영된다. |
|  | Q16-2. 코칭 톤 가이드 | `docs/COACH_TONE_GUIDE.md`에 따라 AI 코치는 성향(challenge_appetite), 에너지 상태(NEEDS_POTION 등), 전리품 유형에 맞춰 톤과 메시지를 조절한다. |
| 리스크 | Q17. 기능/운영 리스크 | 알림 중복 또는 실패, 퀘스트 데이터 손실, LLM 과도한 퀘스트 제안, OAuth 전환 시 토큰 유출 가능성. |
|  | Q18. 리스크 완화 | Slack 재시도/모니터링, SQLite 자동 백업+오프사이트 보관, SDT 기반 난이도 가이드, OAuth 전환 시 환경 변수/비밀 관리와 접근 제어. |
| 데이터 흐름 | Q19. 이벤트 흐름 | 목표 생성 → 퀘스트 생성/추천 → 퀘스트 완료 이벤트 → 대화 로그/요약 → 리마인더 발송. 상세 플로우 차트 작성 예정. |
|  | Q20. 외부 연동 | MVP는 없음. 향후 건강 앱(운동 데이터), 재무/가계부 앱(수익 데이터)와의 연동을 고려 (우선순위 추후 결정). |

## 이론적 근거 & 참고 연구
- **자기결정성이론(SDT, Deci & Ryan, 2000)**: 자율성·유능감·관계성을 만족시키는 것이 장기 목표 유지에 가장 중요함. → 전리품 기록(유능감), 변주 선택(자율성), 코치 응원(관계성) 구조로 설계.
- **Flow Theory (Csikszentmihalyi, 1990)**: 현재 실력과 도전이 균형을 이룰 때 몰입이 발생. → LLM이 에너지/성과 신호를 기반으로 ‘공격/수비/회복’ 변주를 제안.
- **Progress Principle (Amabile & Kramer, 2011)**: 작은 진전을 기록하면 다음 행동의 의지가 커짐. → “오늘 얻은 전리품” 캡처 후 즉시 칭찬/다음 추천 제공.
- **Positive Psychology Interventions (Seligman et al., 2005)**: 긍정 경험 회상이 행복감·성취감을 강화. → 피드백 질문 순서를 성취→휴식 순으로 배치.
- **Gamification 연구 (Werbach & Hunter, 2012; Hamari et al., 2014)**: 단순 포인트보다 의미 있는 스토리와 선택지가 지속성을 높임. → 보스전/물약 등 스토리 메타포와 변주 선택 모달 도입.
- **휴식·자기조절 연구 (Ackerman & Kanfer, 2009)**: 에너지 체크가 번아웃 예방에 효과적이나, 휴식 후 복귀전략이 반드시 포함되어야 함. → `NEEDS_POTION` 신호 시 자동으로 보완 퀘스트/휴식 전략 제시.

## 심리학 · 게임 디자인 참고
- **자기결정성이론(SDT)**: 퀘스트 선택권(자율성), 난이도 조절과 칭찬(유능감), 챗봇/Slack 응원(관계성)을 통해 장기 동기를 유지.
- **목표 경사 가설**: 대시보드와 리마인더에서 남은 퀘스트 수·진척률을 크게 보여 “조금만 더” 하고 싶게 연출.
- **Implementation Intentions (언제/어디서/어떻게)**: 퀘스트 생성 시 시간·장소·조건을 묻고 저장해 행동을 구체화.
- **변동 보상 & 루프 설계**: Duolingo, Ring Fit Adventure처럼 완료 시 칭찬 메시지, 연속 출석 보상, 주간 회고 리포트를 적용.
- **탐험 → 습관 온보딩**: 초반에는 쉬운 퀘스트와 즉각 피드백으로 몰입을 돕고, 익숙해지면 레벨·칭호·확장 퀘스트를 단계적으로 열어준다.

## Stage 메타 구조 (텍스트 연출)
| Stage | 명칭 | 승급 기준 | 강등 기준 | 핵심 경험 | 해금 요소 | 보상/연출 |
| --- | --- | --- | --- | --- | --- | --- |
| Stage 0 | **Spark Awakening** | 첫 1~2주 동안 일일 퀘스트 70% 이상, 전리품 기록률 60% 이상 | 4일 연속 미션 미완료 | 아주 쉬운 변주, 즉시 칭찬, 전리품 기록 습관 | 변주 선택 모달, 전리품 카드 알림 | 전리품 요약 카드, 고양 문구, Stage 소개 텍스트 연출 |
| Stage 1 | **Momentum Forge** | 연속 2주 이상 `READY_FOR_BOSS` or `KEEPING_PACE` 80% 이상, 목표 진척률 20% 달성 | `NEEDS_POTION` 3회 연속, 주간 회고 미완료 2회 | 중간 난이도 변주, 공격/수비/회복 전략 제안 | 주간 전리품 컬렉션, 미니 보스 안내 | 주간 리포트에 전리품 콤보/응원 메시지 |
| Stage 2 | **Ascension Path** | 목표 진척률 50%, 챌린지 퀘스트 3회 성공, Flow 점수 평균 3 이상 | Flow 점수 2 이하 2주 연속, 학습/회복 퀘스트 미수행 | 하드 변주·보완 퀘스트, 전략 선택 강조 | 보스 사전 퀘스트, 회복 물약/버프 아이템 | 승급 메시지 + 다음 Stage 티저 텍스트, 새 칭호 |
| Stage 3 | **Summit Breakthrough** | 장기 목표 75% 도달, 보스 퀘스트 성공 | 2주 연속 목표 미진척(0%), 휴식 신호 5회 | 보스전/확장 목표, 휴식-도전 균형 관리 | 확장 목표 해금, 사회적/길드 미션 | 보스전 클리어 보고, 다음 장기 목표 추천, 전리품 대서사 |

> 승급/강등 판정은 주간 회고 시점에 수행하며, Stage 변경 시 챗봇이 전리품·에너지 요약, 다음 단계 특징, 손실 방지 조언을 텍스트로 안내합니다.

## 향후 액션 아이템
- UX 세부 설계 및 화면 와이어프레임 문서화 (예: `docs/UX_FLOW.md`).
- 리스크 모니터링/백업 정책을 `docs/RISK_REGISTER.md`로 정리.
- 데이터 흐름 다이어그램 및 외부 연동 요구사항 정의 (`docs/DATA_FLOW.md`).
- 보상/감정 설계를 위해 SDT, Goal Gradient, Implementation Intentions(“언제/어디서/어떻게” 계획) 같은 심리학 이론과 Duolingo, Ring Fit Adventure 등 게임 레벨링 구조를 지속적으로 참고하며 설계 업데이트.
- Slack Webhook 외 추가 알림 채널 설계 시 메시지 템플릿 분리.
- 전리품 기록률, 에너지 상태 분포, 휴식 신호 연속 횟수, 주간 Flow 자가 평가를 수집해 설계 가설 검증.
- 휴식 신호가 반복되는 사용자를 대상으로 휴식 전략/보완 퀘스트가 목표 지연을 줄이는지 실험군-대조군 비교.
- 전리품 기록 빈도가 일정 이하로 떨어지면 챗봇이 긍정 경험 회상을 유도하는 규칙을 도입.
- 지표와 실험 설계 세부 내용은 `docs/ANALYTICS_PLAN.md` 참조.
- 전리품 리포트 자동화 워크플로우(`docs/LOOT_REPORT_WORKFLOW.md`)에 따라 배치 작업을 구성하고 Slack/Email로 발송한다.
- 전리품 보관함/콤보 Gem/Relic 시각화(UI 카드, 타임라인, 공유 기능) 설계를 별도 와이어프레임으로 준비.
- (원거리 로드맵) 실제 사용자 간 길드/파티 기능, 협동 미션, 응원 메시지 공유 등은 정식 서비스 활성화 이후 별도 기획으로 검토한다.
- 보스전 진행 상태(UI 카드, 타임라인, 준비 체크리스트)를 시각화하는 와이어프레임을 작성하고 `docs/UX_WIREFRAME_NOTES.md`에 기록한다.
- 월간/분기 전리품 리포트 템플릿(`docs/LOOT_REPORT_TEMPLATE.md`) 기반으로 사용자에게 성장 서사를 제공한다.

### 레벨 & 챕터 구조 개요 (확장 단계)
| Stage | 기간/요건 | 해금 요소 | 보상 초점 |
| --- | --- | --- | --- |
| Stage 0 – 온보딩 | 첫 1~2주, 기본 퀘스트 70% 이상 완료 | 쉬운 루틴 퀘스트, 기본 칭찬 메시지 | “작은 승리” 반복, 유능감 확보 |
| Stage 1 – 루틴 만들기 | 연속 2주간 주간 퀘스트 목표 달성 | 확장 퀘스트(동일 목표의 다양한 행동), 초기 칭호 | 자율성 강화, 행동 다양화 |
| Stage 2 – 성장 모드 | 연속 4주 유지 + 챕터 퀘스트 3개 달성 | 심화 챌린지, 회고 질문 확장 | 장기 동기 부여, 깊이 있는 회고 |
| Stage 3 – 챌린지 단계 | 장기 목표 75% 달성 또는 사용자가 도전 선택 | 챌린지 템플릿, 커뮤니티 연동 대비 | “스스로 달린다”는 감각 강화 |

- XP 규칙: 퀘스트 난이도에 따라 10~40 XP, Stage가 오를수록 가중치 증가(예: Stage 2 = ×1.5). 완료 후 LLM이 개인화 메시지를 생성해 감정적 보상을 강화한다.
- 연속 보상: 연속 성공 주차에 따라 칭호·대시보드 라벨을 제공하고, 끊기려 할 때 “휴식 퀘스트” 제안으로 심리적 부담을 줄인다.
- 인증/금전적 보상은 도입하지 않고, 모든 보상은 정서적·인지적 지원(칭호, 스토리, 회고, 난이도 조절)에 초점을 맞춘다.
